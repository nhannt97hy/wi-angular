<div class="curve-listing-toolbar-wrapper">
	<wi-toolbar>
		<wi-button icon="curve-new-16x16" layout="icon-left" type="small" label='Add Curve' tooltip="Add Curve" handler="wiCurveListing.onAddCurveButtonClicked"></wi-button>
		<wi-button icon="save-16x16" layout="icon-left" type="small" label='Save Curve(s)' tooltip="Save Curve(s)" handler="wiCurveListing.onSaveButtonClicked"></wi-button>
	</wi-toolbar>
	<wi-toolbar>
		<wi-button layout="icon-left" type="small" label='Show Properties Panel' is-check-type="1" checked='wiCurveListing.isShowPropPanel'
		 tooltip="Show/Hide Properties" handler="wiCurveListing.togglePropPanel"></wi-button>
	</wi-toolbar>
	<wi-toolbar>
		<wi-dropdown type='small' label='Visualization Mode'>
			<wi-button layout="icon-left" type="small" class="height-auto" label='Data' is-check-type="1" checked="wiCurveListing.visualizationMode=='Data'" handler="wiCurveListing.toggleVisualizationMode">
			</wi-button>
			<wi-button layout="icon-left" type="small" class="height-auto" label='Statistic' is-check-type="1" checked="wiCurveListing.visualizationMode=='Statistic'" handler="wiCurveListing.toggleVisualizationMode">
			</wi-button>
		</wi-dropdown>
	</wi-toolbar>
</div>
<div class="curve-listing-main-content">
	<div resizable r-directions="['right']" r-flex="true" class="listing">
		<div class="bordered panel panel-default tree-side">
			<div style='display:flex;' class='panel-heading'>
				<label>
					<span class="well-16x16"></span>&nbsp;Well
				</label>
				<div style='flex:1;margin-left: 5px;'>
					<ui-select ng-model='wiCurveListing.SelectedWell'
					ng-change="wiCurveListing.onChangeWell()">
						<ui-select-match>{{$select.selected.name}}</ui-select-match>
						<ui-select-choices repeat='well in wiCurveListing.wells | filter:{name:$select.search} track by well.id'>
							{{well.name}}
						</ui-select-choices>
						<ui-select-no-choice>
							Well not found!
						</ui-select-no-choice>
					</ui-select>
				</div>
			</div>
			<div style='position:relative;'>
				<i style="position:absolute;line-height:2.5em;left:0.5em;font-size:14px;" class="fa fa-search"></i>
				<input type='text' style='text-indent:1.5em;' ng-model='Filter' class="form-control">
			</div>
			<div style='flex:1;display:flex;flex-direction:column;overflow: hidden;'>
				<div style='flex: 1;overflow: overlay;'>
					<wi-base-treeview id='__listingtWellTree' name="listingTreeview" config="wiCurveListing.wellConfig" container="wiCurveListing"
					on-ready-function='wiCurveListing.onReady'
					filter="{{Filter}}" show-id="false">
					</wi-base-treeview>
				</div>
				<div resizable r-directions="['top']" r-flex="true" ng-show="wiCurveListing.isShowPropPanel" style="height: 30%; min-height: 20%; max-height: 50%;margin-top:14px;display: flex;">
					<div style="flex:1; overflow: overlay;">
						<h5>Properties</h5>
						<div class="form-group">
							<input type="checkbox" class="col-sm-1">
							<label>Filter per zone</label>
						</div>
						<div class="form-group">
							<label class="col-sm-4">Limit</label>
							<div class="col-sm-8">
								<select class='form-control' ng-model="wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.type"
								ng-change='wiCurveListing.onLimitChange()'>
									<option value="0">No Limit</option>
									<option value="1">Limit by index</option>
									<option value="2">Limit by depth</option>
								</select>
							</div>
						</div>
						<div class="form-group" ng-if='wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.type == 1'>
							<label class='col-sm-4'>Top</label>
							<div class="col-sm-8">
								<input type="number" ng-model='wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.index[0]' class='form-control'>
							</div>
						</div>
						<div class="form-group" ng-if='wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.type == 1'>
							<label class='col-sm-4'>Bottom</label>
							<div class="col-sm-8">
								<input type="number" ng-model='wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.index[1]' class='form-control'>
							</div>
						</div>
						<div class="form-group" ng-if='wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.type == 2'>
							<label class='col-sm-4'>Top</label>
							<div class="col-sm-8">
								<input type="number" ng-model='wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.depth[0]' class='form-control'>
							</div>
						</div>
						<div class="form-group" ng-if='wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.type == 2'>
							<label class='col-sm-4'>Bottom</label>
							<div class="col-sm-8">
								<input type="number" ng-model='wiCurveListing.dataSettings[wiCurveListing.currentIndex].limit.depth[1]' class='form-control'>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="editing">
		<div id="dataContainer" wi-element-ready="wiCurveListing.droppableSetting()" class='active'></div>
	</div>
</div>
<div id="dragElement"></div>
<div class='goTo-widget' ng-if="wiCurveListing.goToWidgetOpened">
	<input type="number" class="form-control" id='goTo-widget-input' ng-model='wiCurveListing.goToRowInput' wi-enter='wiCurveListing.goToRowEnter()' wi-element-ready='wiCurveListing.focusInput("#goTo-widget-input")'>
	<p>Type a row number between 0 and {{wiCurveListing.dataSettings[wiCurveListing.currentIndex].length}} to navigate to</p>
</div>
<div class="find-widget" ng-if='wiCurveListing.findWidgetOpened'>
	<input type="text" class="form-control" ng-model='wiCurveListing.findInput' placeholder="Find" id="find-widget-input"
	wi-element-ready='wiCurveListing.focusInput("#find-widget-input")'>
	<span>{{wiCurveListing.findResultCount}} Results</span>
</div>